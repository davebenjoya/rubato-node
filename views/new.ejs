<%- include ('partials/head.ejs') %>
<p class="logo"><%= title %></p>
<%- include ('partials/nav.ejs') %>
<div id="edit-song">
<form action="" method="post">
    <% if (typeof songObject != 'undefined') { %>
        <% const dupeTitle = songObject.title %>
    <input type="text" name="title" id="title" value= "<%= dupeTitle %> copy" >

    <% } else { %>
    <input type="text" name="title" id="title" placeholder="Enter song title">
    <% } %>

    <% if (typeof songObject != 'undefined') { %>
    <select name="skill_level" id="skill_level">
        <% if (songObject.skill_level === 'beginner') { %> 
            <option value="beginner" selected >Beginner</option>
            <option value="intermediate">Intermediate</option>
            <option value="advanced">Advanced</option>
        <% } %>
        <% if (songObject.skill_level === 'intermediate') { %>
            <option value="beginner" >Beginner</option>
            <option value="intermediate" selected>Intermediate</option>
            <option value="advanced">Advanced</option>
        <% } %>
        <% if (songObject.skill_level === 'advanced') { %> 
            <option value="beginner" >Beginner</option>
            <option value="intermediate">Intermediate</option>
            <option value="advanced" selected>Advanced</option>
        <% } %>
    </select>

    <% } else { %>
    <select name="skill_level" id="skill_level">
        <option value="beginner">Beginner</option>
        <option value="intermediate">Intermediate</option>
        <option value="advanced">Advanced</option>
    </select>

    <% } %>
    
    <div class="checks">
        <div class="check-label">
        <input type="checkbox" name="visible" id="visible-check"  checked />
        <p>Allow others to view this song</p>
        </div>
        <div class="check-label">
            <input type="checkbox" name="dupable" id="dupable-check" checked />
            <p>Allow others to copy this song for editing</p>
        </div>

    </div>

    </div>
    <button type="submit" id="save-song">Save song</button>
</form>
<div id="songHtml">
        <% if (typeof songObject !== 'undefined' && songObject !== null) { %>
            <%- songObject.html %>
        <% } else { %>
            <div class="song-title">HTML from the browser</div>
            <input type="text" placeholder="edit this">
        <% } %>
</div>

</div>
<%- include ('partials/footer.ejs') %>